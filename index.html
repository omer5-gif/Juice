<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juice WRLD AI Studio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        body { margin: 0; background: #05050a; color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; overflow: hidden; }
        .container { position: relative; z-index: 10; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; padding: 20px; }
        .glass-panel { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border-radius: 35px; padding: 35px; width: 90%; max-width: 380px; border: 1px solid rgba(138, 43, 226, 0.3); text-align: center; box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8); }
        h1 { background: linear-gradient(45deg, #ff4d4d, #8a2be2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; font-size: 26px; font-weight: 900; letter-spacing: 1px; }
        p { color: #888; font-size: 12px; margin-top: 5px; text-transform: uppercase; letter-spacing: 2px; }
        input { width: 100%; padding: 16px; margin: 25px 0 10px 0; border-radius: 15px; border: 1px solid #222; background: rgba(0,0,0,0.6); color: #fff; box-sizing: border-box; text-align: center; font-size: 16px; outline: none; }
        input:focus { border-color: #8a2be2; }
        button { background: linear-gradient(45deg, #8a2be2, #4a00e0); color: white; border: none; padding: 18px; width: 100%; border-radius: 15px; font-weight: bold; font-size: 16px; cursor: pointer; transition: 0.4s; box-shadow: 0 4px 15px rgba(138, 43, 226, 0.4); }
        button:active { transform: scale(0.96); }
        #output-text { margin-top: 25px; font-size: 15px; color: #eee; max-height: 160px; overflow-y: auto; font-style: italic; line-height: 1.7; border-left: 3px solid #ff4d4d; padding-left: 15px; text-align: left; }
        #canvas-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
    </style>
</head>
<body>
    <div id="canvas-wrapper"></div>
    <div class="container">
        <div class="glass-panel">
            <h1>JUICE AI STUDIO</h1>
            <p>Next-Gen AI Covers</p>
            <input type="text" id="userInput" placeholder="Song topic or Spotify link...">
            <button onclick="runAI()">GENERATE COVER</button>
            <div id="output-text">The Kitsune is ready...</div>
        </div>
    </div>

    <script>
        // Kitsune 3D Animation
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-wrapper').appendChild(renderer.domElement);
        
        const geometry = new THREE.IcosahedronGeometry(2, 1);
        const material = new THREE.MeshPhongMaterial({ color: 0x8a2be2, wireframe: true, emissive: 0x220044 });
        const kitsuneCore = new THREE.Mesh(geometry, material);
        scene.add(kitsuneCore);
        
        const light = new THREE.PointLight(0xffffff, 1, 100);
        light.position.set(10, 10, 10);
        scene.add(light);
        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            kitsuneCore.rotation.y += 0.005;
            kitsuneCore.rotation.x += 0.005;
            renderer.render(scene, camera);
        }
        animate();

        async function runAI() {
            const val = document.getElementById('userInput').value;
            const out = document.getElementById('output-text');
            
            // Your Google Keys (Split for safety)
            const partA = "AIzaSyCXu7PDHhZBIqM";
            const partB = "dkslJVJzfHBdIl6fFQ1Q";
            
            out.innerText = "Accessing Juice WRLD's frequencies...";

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${partA}${partB}`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Act as Juice WRLD. Write a short, deep emotional verse about: ${val}. Keep it in his signature style.` }] }]
                    })
                });
                
                const data = await response.json();
                const juiceLyrics = data.candidates[0].content.parts[0].text;
                out.innerText = juiceLyrics;

                // Virtual RVC Voice
                const synth = window.speechSynthesis;
                const utterance = new SpeechSynthesisUtterance(juiceLyrics);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 0.85;
                synth.speak(utterance);

            } catch (error) {
                out.innerText = "Connection lost. Please try again.";
            }
        }
    </script>
</body>
</html>
