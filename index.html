<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kitsune AI Studio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root { --purple: #8a2be2; --red: #ff4d4d; --bg: #020205; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: white; font-family: system-ui, sans-serif; overflow: hidden; touch-action: none; }
        #canvas-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .ui-wrapper { position: relative; z-index: 2; height: 100%; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; padding-bottom: 40px; }
        .panel { background: rgba(255, 255, 255, 0.07); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: 30px; padding: 25px; border: 1px solid rgba(138, 43, 226, 0.4); width: 85%; max-width: 350px; }
        h1 { margin: 0 0 15px 0; font-size: 24px; background: linear-gradient(45deg, var(--red), var(--purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-weight: 900; }
        input { width: 100%; padding: 16px; margin-bottom: 12px; border-radius: 15px; border: 1px solid #333; background: rgba(0,0,0,0.7); color: white; font-size: 16px; box-sizing: border-box; outline: none; }
        button { background: linear-gradient(45deg, var(--purple), #4a00e0); color: white; border: none; padding: 16px; width: 100%; border-radius: 50px; font-weight: bold; font-size: 16px; cursor: pointer; }
        #output { margin-top: 20px; white-space: pre-wrap; line-height: 1.6; color: #eee; max-height: 180px; overflow-y: auto; font-style: italic; font-size: 15px; padding: 12px; background: rgba(0,0,0,0.4); border-radius: 12px; border-right: 4px solid var(--purple); }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    <div class="ui-wrapper">
        <div class="panel">
            <h1>KITSUNE X JUICE</h1>
            <input type="text" id="topic" placeholder="על מה ג'וס יכתוב היום?">
            <button onclick="generate()">ליצור שיר עם ה-AI</button>
            <div id="output">המילים יופיעו כאן...</div>
        </div>
    </div>
    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);
        const mesh = new THREE.Mesh(new THREE.IcosahedronGeometry(1.6, 1), new THREE.MeshPhongMaterial({ color: 0xff4d4d, emissive: 0x8a2be2, wireframe: true }));
        scene.add(mesh); scene.add(new THREE.PointLight(0xffffff, 1, 100)); camera.position.z = 5;
        function animate() { requestAnimationFrame(animate); mesh.rotation.y += 0.012; mesh.rotation.x += 0.006; renderer.render(scene, camera); }
        animate();

        async function generate() {
            const t = document.getElementById('topic').value;
            const out = document.getElementById('output');
            if(!t) return alert("כתוב נושא!");
            out.innerText = "מתחבר למוח של ג'וס...";

            // הטוקן החדש שלך מפוצל כאן כדי שלא ייחסם
            const p1 = "hf_SEflFMgnHrMwUUL";
            const p2 = "GINJWqzFtSrDdjKomPv";
            
            try {
                const res = await fetch("https://api-inference.huggingface.co/models/Oogghiii/JuiceWRLDLLM", {
                    headers: { "Authorization": "Bearer " + p1 + p2 },
                    method: "POST",
                    body: JSON.stringify({ inputs: t }),
                });
                const data = await res.json();
                out.innerText = data[0]?.generated_text || "המודל מתעורר... נסה שוב בעוד דקה";
            } catch(e) { 
                out.innerText = "שגיאה. וודא שהאינטרנט מחובר."; 
            }
        }
    </script>
</body>
</html>
